{
  "version": 3,
  "sources": ["../../../src/client/tour/tour-page.ts"],
  "sourcesContent": ["import { css, html, LitElement } from \"lit\";\nimport {\n  customElement,\n  property,\n  state\n} from \"lit/decorators.js\";\nimport type {\n  Tour,\n  Destination,\n  Transportation,\n  Traveler\n} from \"../../models/Tour\";\nimport \"../shared/blazing-header\";\nimport \"./itinerary-view\";\nimport \"./calendar-widget\";\n\n@customElement(\"tour-page\")\nexport class TourPage extends LitElement {\n  @property({ attribute: \"tour-id\" })\n  tourId: string = \"\";\n\n  @state()\n  tour: Tour = {\n    id: \"tour-skeleton\",\n    name: \"Skeleton Tour\",\n    destinations: [],\n    transportation: [],\n    startDate: new Date(),\n    endDate: new Date(),\n    entourage: []\n  } as Tour;\n\n  connectedCallback() {\n    console.log(\"Tour ID:\", this.tourId);\n    super.connectedCallback();\n\n    fetch(`/api/tours/${this.tourId}`)\n      .then((res) => {\n        if (res.status === 200) {\n          res.json().then((json) => {\n            this.tour = json as Tour;\n            console.log(\n              \"Tour-page assigning new tour data\",\n              json\n            );\n          });\n        }\n      })\n      .catch((err) =>\n        console.log(\"Error when reading tour\", err)\n      );\n  }\n\n  render() {\n    const { name, startDate, endDate, destinations } =\n      this.tour;\n\n    console.log(\n      `Rendering tour ${name}, destinations = `,\n      destinations\n    );\n\n    return html`\n      <main class=\"page\">\n        <blazing-header title=${name}> </blazing-header>\n        <calendar-widget\n          start-date=${startDate}\n          end-date=${endDate}>\n        </calendar-widget>\n        <map-widget src=\"/maps/italy.geo.json\"> </map-widget>\n        <itinerary-view .destinations=\"${destinations}\">\n        </itinerary-view>\n        <entourage-table> </entourage-table>\n      </main>\n    `;\n  }\n\n  static styles = css``;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAsC;AACtC,wBAIO;AAOP,4BAAO;AACP,4BAAO;AACP,6BAAO;AAGA,IAAM,WAAN,cAAuB,sBAAW;AAAA,EAAlC;AAAA;AAEL,kBAAiB;AAGjB,gBAAa;AAAA,MACX,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,cAAc,CAAC;AAAA,MACf,gBAAgB,CAAC;AAAA,MACjB,WAAW,oBAAI,KAAK;AAAA,MACpB,SAAS,oBAAI,KAAK;AAAA,MAClB,WAAW,CAAC;AAAA,IACd;AAAA;AAAA,EAEA,oBAAoB;AAClB,YAAQ,IAAI,YAAY,KAAK,MAAM;AACnC,UAAM,kBAAkB;AAExB,UAAM,cAAc,KAAK,MAAM,EAAE,EAC9B,KAAK,CAAC,QAAQ;AACb,UAAI,IAAI,WAAW,KAAK;AACtB,YAAI,KAAK,EAAE,KAAK,CAAC,SAAS;AACxB,eAAK,OAAO;AACZ,kBAAQ;AAAA,YACN;AAAA,YACA;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC,EACA;AAAA,MAAM,CAAC,QACN,QAAQ,IAAI,2BAA2B,GAAG;AAAA,IAC5C;AAAA,EACJ;AAAA,EAEA,SAAS;AACP,UAAM,EAAE,MAAM,WAAW,SAAS,aAAa,IAC7C,KAAK;AAEP,YAAQ;AAAA,MACN,kBAAkB,IAAI;AAAA,MACtB;AAAA,IACF;AAEA,WAAO;AAAA;AAAA,gCAEqB,IAAI;AAAA;AAAA,uBAEb,SAAS;AAAA,qBACX,OAAO;AAAA;AAAA;AAAA,yCAGa,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,EAKnD;AAGF;AA7Da,SA4DJ,SAAS;AA1DhB;AAAA,MADC,4BAAS,EAAE,WAAW,UAAU,CAAC;AAAA,GADvB,SAEX;AAGA;AAAA,MADC,yBAAM;AAAA,GAJI,SAKX;AALW,WAAN;AAAA,MADN,iCAAc,WAAW;AAAA,GACb;",
  "names": []
}
