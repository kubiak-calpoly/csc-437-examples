{
  "version": 3,
  "sources": ["../../../src/client/tour/itinerary-view.ts"],
  "sourcesContent": ["import { css, html, LitElement } from \"lit\";\nimport {\n  customElement,\n  state,\n  property\n} from \"lit/decorators.js\";\nimport type { Tour, Destination } from \"../../models/Tour\";\nimport \"./itinerary-item\";\n\nimport { tourContext } from \"./tour-context\";\n\n@customElement(\"itinerary-view\")\nexport class ItineraryView extends LitElement {\n  @property()\n  destinations: Array<Destination> = [];\n\n  @property()\n  startDate: Date = new Date();\n\n  render() {\n    const destinations = this.destinations;\n    const startDates = destinations\n      .map((dst) => dst.nights)\n      .reduce(\n        (acc, nights, i) =>\n          acc.concat([\n            new Date(\n              acc[i].getTime() + nights * (24 * 60 * 60 * 1000)\n            )\n          ]),\n        [this.startDate]\n      );\n\n    console.log(\n      \"Rendering itinerary-view for tour\",\n      destinations\n    );\n\n    const destinationView = (dst: Destination, i: number) => {\n      const startDate = startDates[i];\n      const nights = dst.nights;\n      const endDate: Date = new Date(\n        startDate.getTime() + nights * (24 * 60 * 60 * 1000)\n      );\n\n      return html`\n        <itinerary-item\n          marker=\"marker-destination-${i}\"\n          item-class=\"destination\"\n          start-date=\"${startDate}\"\n          end-date=\"${endDate}\">\n          <h3 slot=\"summary\"> ${dst.name} </h3>\n          <p slot=\"summary\">\n            ${nights} night${nights === 1 ? \"\" : \"s\"}\n          </p>\n          <img class=\"featured\" src=\"${dst.featuredImage}\" />\n        </itinerary-item>\n      `;\n    };\n\n    return html`\n      <section class=\"itinerary\">\n        ${this.destinations.map(destinationView)}\n      </section>\n    `;\n  }\n\n  static styles = css`\n    .itinerary {\n      display: grid;\n      grid-area: itinerary;\n      align-self: start;\n      grid-template-columns: [start] auto [header] 4fr [info] 1fr 2fr 1fr 2fr [end];\n      gap: var(--size-spacing-large) var(--size-spacing-medium);\n      align-items: baseline;\n      margin: var(--size-spacing-small);\n    }\n\n    itinerary-item {\n      display: contents;\n    }\n\n    itinerary-item > h3 > .icon:first-child {\n      position: absolute;\n      top: 0;\n      left: 0;\n    }\n\n    itinerary-item ol,\n    itinerary-item ol > li {\n      display: contents;\n    }\n\n    itinerary-item h4 {\n      grid-column: header;\n      text-align: right;\n    }\n\n    itinerary-item[item-class=\"destination\"] h3 {\n      font-style: normal;\n      font-weight: bold;\n    }\n\n    itinerary-item img.featured {\n      width: 100%;\n      grid-column: info / end;\n      grid-row-end: span 2;\n    }\n  `;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAsC;AACtC,wBAIO;AAEP,4BAAO;AAKA,IAAM,gBAAN,cAA4B,sBAAW;AAAA,EAAvC;AAAA;AAEL,wBAAmC,CAAC;AAGpC,qBAAkB,oBAAI,KAAK;AAAA;AAAA,EAE3B,SAAS;AACP,UAAM,eAAe,KAAK;AAC1B,UAAM,aAAa,aAChB,IAAI,CAAC,QAAQ,IAAI,MAAM,EACvB;AAAA,MACC,CAAC,KAAK,QAAQ,MACZ,IAAI,OAAO;AAAA,QACT,IAAI;AAAA,UACF,IAAI,CAAC,EAAE,QAAQ,IAAI,UAAU,KAAK,KAAK,KAAK;AAAA,QAC9C;AAAA,MACF,CAAC;AAAA,MACH,CAAC,KAAK,SAAS;AAAA,IACjB;AAEF,YAAQ;AAAA,MACN;AAAA,MACA;AAAA,IACF;AAEA,UAAM,kBAAkB,CAAC,KAAkB,MAAc;AACvD,YAAM,YAAY,WAAW,CAAC;AAC9B,YAAM,SAAS,IAAI;AACnB,YAAM,UAAgB,IAAI;AAAA,QACxB,UAAU,QAAQ,IAAI,UAAU,KAAK,KAAK,KAAK;AAAA,MACjD;AAEA,aAAO;AAAA;AAAA,uCAE0B,CAAC;AAAA;AAAA,wBAEhB,SAAS;AAAA,sBACX,OAAO;AAAA,gCACG,IAAI,IAAI;AAAA;AAAA,cAE1B,MAAM,SAAS,WAAW,IAAI,KAAK,GAAG;AAAA;AAAA,uCAEb,IAAI,aAAa;AAAA;AAAA;AAAA,IAGpD;AAEA,WAAO;AAAA;AAAA,UAED,KAAK,aAAa,IAAI,eAAe,CAAC;AAAA;AAAA;AAAA,EAG9C;AA4CF;AAjGa,cAuDJ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AArDhB;AAAA,MADC,4BAAS;AAAA,GADC,cAEX;AAGA;AAAA,MADC,4BAAS;AAAA,GAJC,cAKX;AALW,gBAAN;AAAA,MADN,iCAAc,gBAAgB;AAAA,GAClB;",
  "names": []
}
