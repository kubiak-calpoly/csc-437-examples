{
  "version": 3,
  "sources": ["../../../src/server/services/profile_service.ts"],
  "sourcesContent": ["import { Profile } from \"../../models/Profile\";\nimport profileModel from \"./mongo/profile\";\nimport {\n  NotFoundError,\n  InternalError\n} from \"../utils/HTTPError\";\n\nexport function get(id: String): Promise<Profile> {\n  return new Promise<Profile>((resolve, reject) => {\n    profileModel.find({ id }).then((found) => {\n      if (found && found.length) resolve(found[0].toObject());\n      else\n        reject(new NotFoundError(`Profile \"${id}\" not found`));\n    });\n  }).catch((error) => {\n    throw error;\n  });\n}\n\nexport function create(profile: Profile): Promise<Profile> {\n  return new Promise<Profile>((resolve, reject) => {\n    const p = new profileModel(profile);\n    p.save()\n      .then((created) => {\n        if (created) resolve(created.toObject());\n        else\n          reject(\n            `Profile not created: ${JSON.stringify(profile)}`\n          );\n      })\n      .catch((error) => {\n        reject(`Profile failed validation: ${error}`);\n      });\n  });\n}\n\nexport default { get, create };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,qBAAyB;AACzB,uBAGO;AAEA,SAAS,IAAI,IAA8B;AAChD,SAAO,IAAI,QAAiB,CAAC,SAAS,WAAW;AAC/C,mBAAAA,QAAa,KAAK,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC,UAAU;AACxC,UAAI,SAAS,MAAM;AAAQ,gBAAQ,MAAM,CAAC,EAAE,SAAS,CAAC;AAAA;AAEpD,eAAO,IAAI,+BAAc,YAAY,EAAE,aAAa,CAAC;AAAA,IACzD,CAAC;AAAA,EACH,CAAC,EAAE,MAAM,CAAC,UAAU;AAClB,UAAM;AAAA,EACR,CAAC;AACH;AAEO,SAAS,OAAO,SAAoC;AACzD,SAAO,IAAI,QAAiB,CAAC,SAAS,WAAW;AAC/C,UAAM,IAAI,IAAI,eAAAA,QAAa,OAAO;AAClC,MAAE,KAAK,EACJ,KAAK,CAAC,YAAY;AACjB,UAAI;AAAS,gBAAQ,QAAQ,SAAS,CAAC;AAAA;AAErC;AAAA,UACE,wBAAwB,KAAK,UAAU,OAAO,CAAC;AAAA,QACjD;AAAA,IACJ,CAAC,EACA,MAAM,CAAC,UAAU;AAChB,aAAO,8BAA8B,KAAK,EAAE;AAAA,IAC9C,CAAC;AAAA,EACL,CAAC;AACH;AAEA,IAAO,0BAAQ,EAAE,KAAK,OAAO;",
  "names": ["profileModel"]
}
