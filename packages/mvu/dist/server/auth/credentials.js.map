{
  "version": 3,
  "sources": ["../../../src/server/auth/credentials.ts"],
  "sourcesContent": ["import bcrypt from \"bcryptjs\";\nimport { Request, Response } from \"express\";\nimport { credential_service } from \"../services\";\n\nexport function registerUser(req: Request, res: Response) {\n  const { username, pwd } = req.body; // from form\n\n  if (!username || !pwd) {\n    res.status(400).send(\"Bad request: Invalid input data.\");\n  } else {\n    credential_service.checkExists(username).then((exists) => {\n      if (exists)\n        res.status(409).send(\"Username already taken\");\n      else {\n        bcrypt\n          .genSalt(10)\n          .then((salt) => bcrypt.hash(pwd, salt))\n          .then((hashedPassword) => {\n            credential_service.create(username, hashedPassword);\n          });\n      }\n    });\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAmB;AAEnB,sBAAmC;AAE5B,SAAS,aAAa,KAAc,KAAe;AACxD,QAAM,EAAE,UAAU,IAAI,IAAI,IAAI;AAE9B,MAAI,CAAC,YAAY,CAAC,KAAK;AACrB,QAAI,OAAO,GAAG,EAAE,KAAK,kCAAkC;AAAA,EACzD,OAAO;AACL,uCAAmB,YAAY,QAAQ,EAAE,KAAK,CAAC,WAAW;AACxD,UAAI;AACF,YAAI,OAAO,GAAG,EAAE,KAAK,wBAAwB;AAAA,WAC1C;AACH,wBAAAA,QACG,QAAQ,EAAE,EACV,KAAK,CAAC,SAAS,gBAAAA,QAAO,KAAK,KAAK,IAAI,CAAC,EACrC,KAAK,CAAC,mBAAmB;AACxB,6CAAmB,OAAO,UAAU,cAAc;AAAA,QACpD,CAAC;AAAA,MACL;AAAA,IACF,CAAC;AAAA,EACH;AACF;",
  "names": ["bcrypt"]
}
